{% extends "layout.html" %}

{% block title %}About{% endblock %}

{% block content %}

<div class="page-hero reveal">
    <span class="section-eyebrow">About Me</span>
    <h1 class="page-hero-title">Passionate <span class="gradient-text">Developer</span></h1>
    <p class="page-hero-sub">Building the future, one clean commit at a time.</p>
</div>

<!-- ===== ABOUT GRID ===== -->
<section id="about-page">
    <div class="about-grid">

        <!-- Left: bio + contact -->
        <div class="about-card glass-card reveal">
            <h2>Who I Am</h2>
            {% if profile %}
                <p>{{ profile.summary }}</p>
                <p>Based in <strong>{{ profile.location }}</strong>, I specialise in full-stack development with a focus on clean, performant, and maintainable code.</p>
            {% else %}
                <p>I'm a passionate full-stack developer who loves building products that make a real difference.</p>
            {% endif %}

            <div class="about-contact-list">
                {% if profile %}
                    <div class="about-contact-item">
                        <span class="ci-icon">üìß</span>
                        <a href="mailto:{{ profile.email }}">{{ profile.email }}</a>
                    </div>
                    {% if profile.phone %}
                    <div class="about-contact-item">
                        <span class="ci-icon">üì±</span>
                        <a href="tel:{{ profile.phone }}">{{ profile.phone }}</a>
                    </div>
                    {% endif %}
                    <div class="about-contact-item">
                        <span class="ci-icon">üìç</span>
                        <span>{{ profile.location }}</span>
                    </div>
                {% endif %}
            </div>

            <div class="about-social-links">
                {% if profile and profile.github %}
                    <a href="{{ profile.github }}" target="_blank" rel="noopener noreferrer" class="about-social-btn">GitHub ‚Üó</a>
                {% endif %}
                {% if profile and profile.linkedin %}
                    <a href="{{ profile.linkedin }}" target="_blank" rel="noopener noreferrer" class="about-social-btn">LinkedIn ‚Üó</a>
                {% endif %}
                <a href="{{ url_for('contact_page') }}" class="btn-primary">Hire Me &rarr;</a>
            </div>
        </div>

        <!-- Right: highlight cards -->
        <div class="highlight-cards">
            <div class="highlight-card glass-card reveal">
                <span class="h-icon">üí°</span>
                <h3>Creative Problem Solver</h3>
                <p>I enjoy dissecting complex challenges and engineering elegant, scalable solutions.</p>
            </div>
            <div class="highlight-card glass-card reveal">
                <span class="h-icon">üöÄ</span>
                <h3>Full-Stack Focus</h3>
                <p>Comfortable across the entire stack ‚Äî from REST APIs to pixel-perfect frontends.</p>
            </div>
            <div class="highlight-card glass-card reveal">
                <span class="h-icon">ü§ù</span>
                <h3>Collaborative Spirit</h3>
                <p>I thrive in team environments and believe great products are built together.</p>
            </div>
        </div>
    </div>
</section>

<!-- ===== EXPERIENCE ===== -->
{% if experiences %}
<section id="experience-section">
    <div class="exp-header section-wrap reveal">
        <span class="section-eyebrow">Career</span>
        <h2 class="section-title">Professional <span class="gradient-text">Experience</span></h2>
    </div>
    <div class="timeline-wrap">
        {% for exp in experiences %}
            <div class="timeline-item reveal">
                <div class="timeline-dot"></div>
                <div class="timeline-card glass-card">
                    <p class="timeline-role">{{ exp.role }}</p>
                    <p class="timeline-company">{{ exp.company }} &middot; {{ exp.location }}</p>
                    <p class="timeline-period">{{ exp.start_date }} &ndash; {{ exp.end_date }}</p>
                    <ul class="timeline-highlights">
                        {% for h in exp.highlights_list %}
                            <li>{{ h }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- ===== SKILLS ===== -->
{% if skills_by_category %}
<section id="skills-section">
    <div class="skills-header section-wrap reveal">
        <span class="section-eyebrow">Expertise</span>
        <h2 class="section-title">Technical <span class="gradient-text">Skills</span></h2>
    </div>
    <div class="skills-grid">
        {% for category, category_skills in skills_by_category.items() %}
            <div class="skill-group-card glass-card reveal">
                <p class="skill-group-name">{{ category }}</p>
                <div class="skill-list">
                    {% for skill in category_skills %}
                        <div class="skill-row">
                            <div class="skill-name-row">
                                <span class="skill-name">{{ skill.name }}</span>
                                <span class="skill-level">{{ skill.proficiency }}</span>
                            </div>
                            <div class="skill-bar">
                                <div class="skill-bar-fill" data-width="{% if skill.proficiency == 'Expert' %}95{% elif skill.proficiency == 'Intermediate' %}70{% else %}40{% endif %}"></div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</section>

<script>
    // Animate skill bars when they enter the viewport
    const barObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const fill = entry.target;
                fill.style.width = fill.dataset.width + '%';
                barObserver.unobserve(fill);
            }
        });
    }, { threshold: 0.3 });

    document.querySelectorAll('.skill-bar-fill').forEach(el => {
        el.style.width = '0%';
        el.style.transition = 'width 1s cubic-bezier(0.4, 0, 0.2, 1)';
        barObserver.observe(el);
    });
</script>
{% endif %}

{% endblock %}
